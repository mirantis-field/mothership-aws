apiVersion: v1
kind: Secret
metadata:
  name: msr-reg-secret
  namespace: kcm-system
stringData:
  username: "admin"
  password: "Get Password from Vault"
---
apiVersion: source.toolkit.fluxcd.io/v1
kind: HelmRepository
metadata:
  labels:
    k0rdent.mirantis.com/managed: 'true'
  name: runai-repo
  namespace: kcm-system
spec:
  interval: 1m0s
  secretRef:
    name: msr-reg-secret # This secret needs to be created before; use basic auth with a service user + token generated by IT
  type: oci
  url: oci://msr-fips.mirdemo.com/runai